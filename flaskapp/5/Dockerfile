# BASE IMAGE DEFININTION
FROM python:3-alpine

# CREATE OUR APP'S DIRECTORY
RUN mkdir /flaskapp

# CHANGE THE GLOBAL WORKING DIRECTORY
WORKDIR /flaskapp

# COPY OUR APPLICATION
COPY helloworld.py .

# INSTALL THE DEPENDENCIES
RUN pip install Flask

# SET ENVIRONMENTAL VARIABLES
ENV FLASK_APP=helloworld.py

# SET PORTS TO EXPOSE
EXPOSE 5000

# SPECIFY THE RUN COMMAND
CMD ["sh", "-c", "flask run --host 0.0.0.0 --port ${APP_PORT}"]
